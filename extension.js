function activate(e){let t=vscode.commands.registerCommand("i3d-mapper.mapper",function(){let e=vscode.window.activeTextEditor.document.getText();xml=xmlJS.xml2js(e,{alwaysArray:!0,ignoreComment:!0});let t={i3dMappings:{i3dMapping:[]}};xml.elements[0].elements.map(e=>{"Scene"===e.name&&mapping(t.i3dMappings.i3dMapping,e,"")}),t.i3dMappings.i3dMapping.map(e=>{e._attributes.node=e._attributes.node.replace(/^\|/g,"").replace(/^(\d{1,})/g,"$1>").replace(/>\|/g,">")});let a=xmlJS.js2xml(t,{compact:!0,ignoreComment:!0,spaces:2});vscode.workspace.openTextDocument({content:a,language:"xml"})});e.subscriptions.push(t)}function deactivate(){}const vscode=require("vscode"),xmlJS=require("xml-js"),mapping=(e,t,a)=>{t.elements.map((t,i)=>{let n=`${a}|${i}`;e.push({_attributes:{id:t.attributes.name,node:n}}),t.elements&&mapping(e,t,n)})};module.exports={activate:activate,deactivate:deactivate};